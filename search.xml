<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[区块链域名解析服务emerdns初探]]></title>
    <url>%2F2019%2F04%2Femerdns%2F</url>
    <content type="text"><![CDATA[前段时间看360netlab的一篇文章基于区块链DNS的Fbot蠕虫，文中提到的Fbot蠕虫，其C2用到了区块链域名解析服务emerDNS，觉得挺有意思，一直念念不忘，最近抽出空来，初步学习下。 emerCoin简介emerCoin是一个区块链项目，提供多个分布式服务，比如分布式域名解析emerDNS、分布式密钥管理emerSSH、分布式证书管理emerSSL等。要使用emerDNS，首先要有钱包，还要充一点币，下面具体介绍。 安装emerCoin钱包首先到官网下载emerCoin钱包，下载地址点这里。下载钱包后，按照提示安装，第一次打开需要同步区块数据，数据量不大，大概几十分钟就可同步完毕，我这里安装的是mac版，最终打开后的界面是这样： 然后你需要为自己充一些emerCoin币，可以从以下交易所充值：我选的是hitbtc交易所，购买emerCoin币后，将其提现到自己的钱包，具体流程和转账比特币类似，具体不细说了。现在我们的钱包有了一些emerCoin币，点击钱包的Manage Names栏目，我们能看到DNS设置按钮，如下： 在具体设置之前，我们先看下emerDNS介绍。 emerDNS简介什么是emerDNS？简单说就是把域名解析过程放在区块链上进行。有啥好处呢？按照官方的说法是这样： 你是否担心自己的网站某一天被关停？随着全球管控力度的加强，这种担心不无道理。EmerDNS可免除这一烦恼。EmerDNS完全去中心化，不受任何管控影响。没有人可以修改你的记录，只有记录创建者才能操作记录内容。在多个浏览器扩展的帮助下，通过OpenNIC服务器或代理可轻松解析EmerDNS网站。 EmerDNS是一个去中心化的域名系统，支持各种DNS记录。EmerDNS在Emercoin NVS中的服务缩写”dns”下运行。 上面提到的NVS是什么？全称是Name Value System，就是一个键值对数据库，写过代码的肯定都知道。到这你可能猜出来了，name里存储域名，value里存储解析记录。我们看下一个典型的emerDNS记录格式。先打开emercoin NVS区块浏览器，地址如下：https://explorer.emercoin.com/nvs type框里输入dns，点击搜索，典型的dns记录格式如下： 我们再回来看看钱包里怎么设置dns，点击dns按钮，弹出子窗口，填写dns name和对应记录即可，这里我添加的A记录94.23.252.190是namecoin官网的地址，如下： 点击OK，回到主界面，我们能看到键值操作有NAME_NEW、NAME_UPDATE、NAME_DELETE三种，这里我们是新增一条A记录，选默认的NAME_NEW即可，点击submit，就会把记录提交到区块链网络中，需要一段时间同步，耐心等会，如下： 我们在回到nvs浏览器看下，果然，有记录了，如下：下面我们看看解析emerdns有哪些方式。 解析emerDNS的五种方式使用OpenNIC DNS使用openNIC DNS服务，这应该是最方便的方式了，把本机DNS设成openNIC的dns地址，即可访问各种非标准域名。迈萌我整理了下，openNIC支持解析的非标准域名有.bit、.coin、.lib、.emc等。 openNIC 所有dns 地址见servers.opennic.org，从中抽取一个，设置本机dns为176.126.70.119，然后用浏览器访问我们前面设置的emerDNS域名magicming.lib，果然跳转到namecoin的官网，为优秀的自己点个赞，如下： 使用dig命令也可以用下面命令dig一下，通过应答的A记录能看出确实是前面设置的ip， 1dig @176.126.70.119 magicking.lib 应答如下： 使用浏览器插件访问peername，下载对应浏览器插件，我下载的是chrome版，安装后浏览器右上角多了一个地球图标，注意该插件和代理类插件冲突，顺利话就可以访问http://magicming.lib 了，如下： 使用钱包内置的控制台进入emerCoin钱包，打开 菜单—&gt; 帮助—&gt; 调试窗口—&gt; 控制台，输入help可查看所有命令，dns相关命令如下：1234name_show [name] [valuetype] [filepath]name_new &lt;name&gt; &lt;value&gt; &lt;days&gt; [toaddress] [valuetype]name_update &lt;name&gt; &lt;value&gt; &lt;days&gt; [toaddress] [valuetype]name_delete &lt;name&gt; 这里我们使用name_show命令查看magicming.lib的dns解析记录，命令如下：1name_show dns:magicming.lib 返回记录如下，我们成功读取了A记录： 使用emercoin命令行emerCoin官网提供了emercoin 命令行，支持ubuntu、debian、centos，下载地址点这里。迈萌我这里以ubuntu16为例，安装步骤如下： 123$ apt-key adv --keyserver keyserver.ubuntu.com --recv B58C58F4$ add-apt-repository 'deb http://download.emercoin.com/ubuntu xenial emercoin'$ apt update &amp;&amp; apt -y install emercoin 安装完毕后首先启动对应服务，命令如下：1service emercoind start 然后服务在后台开始自动同步区块，同步期间试了下不能读取NVS。同步完成后，执行以下命令即可解析域名： 1emc name_show dns:magicming.lib 病毒爱上emerDNS的理由对比传统域名解析，我们能感受到emerDNS有以下优势： 传统情报库不一定会收录这类非标准域名 emerDNS去中心化，无法通过ICANN成员单位来sinkhole该域名 emerDNS更健壮，更具有所有权 增大安全人员分析难度 可以预测也正在发生，基于区块链的各种技术，会越来越多的用在传统黑产中。 怎样防御emerDNS仅从监测感知层面来说，可以在情报库中加入以下数据，增强感知力： 各种非标准域名后缀 可疑非标准域名对应的ip openNIC DNS列表（用这个NDS的不是极客就是黑产） …… 直接干掉emerDNS，目前没什么好想法。]]></content>
      <categories>
        <category>区块链安全</category>
      </categories>
      <tags>
        <tag>emerdns</tag>
        <tag>emercoin</tag>
        <tag>区块链DNS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[隐私保护工具收集]]></title>
    <url>%2F2019%2F04%2Fprivacy-tools%2F</url>
    <content type="text"><![CDATA[本文用于记录一些自己不熟悉的隐私保护工具，抽空研究，不定期更新。 网盘upload.ee anonfiles.com 图床thyrsi.com]]></content>
      <categories>
        <category>未分类</category>
      </categories>
      <tags>
        <tag>隐私保护工具</tag>
      </tags>
  </entry>
</search>
